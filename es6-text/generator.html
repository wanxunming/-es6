<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>generator函数</title>
	<script>
		let $ = {
			get_promise(url){
				return new Promise(function(resolve,reject){
					let xhr = new XMLHttpRequest();
					xhr.open("get",url);
					xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
					xhr.responseType = "json"
					xhr.send();
					xhr.onreadystatechange = function(){
						if(this.readyState === 4){
							if(this.status === 200){
								//请求成功
								resolve(this.response)
							} else {
								//请求失败
								reject(this)
							}
						}
					}
				})
				
		}
	</script>
</head>
<body>
	
</body>
</html>